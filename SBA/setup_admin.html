<!DOCTYPE html>
<html>
<head>
    <title>Setup Admin Account</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBIuRj51fQUCNREMT3JEZAyWjl7TsBU_08",
            authDomain: "my-task-manager-c8e32.firebaseapp.com",
            projectId: "my-task-manager-c8e32",
            storageBucket: "my-task-manager-c8e32.firebasestorage.app",
            messagingSenderId: "182865686068",
            appId: "1:182865686068:web:ef8716eb8edcc7749c6461"
        };
        firebase.initializeApp(firebaseConfig);
        
        async function setupAdmin() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            try {
                // Create admin user
                const userCredential = await firebase.auth().createUserWithEmailAndPassword(email, password);
                
                // Add to admins collection
                await firebase.firestore().collection('admins').doc(userCredential.user.uid).set({
                    email: email,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    isSuperAdmin: true
                });
                
                alert('Admin account created successfully!');
                window.location.href = 'admin.html';
                
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }
    </script>
</head>
<body>
    <h2>Create First Admin Account</h2>
    <input type="email" id="email" placeholder="Admin email">
    <input type="password" id="password" placeholder="Admin password">
    <button onclick="setupAdmin()">Create Admin</button>
</body>
</html>